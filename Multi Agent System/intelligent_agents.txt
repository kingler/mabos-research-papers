2INTELLIGENT AGENTS
Inwhichwediscusswhatanintelligent agentdoes,howitisrelatedtoitsenvironment,
howitisevaluated, andhowwemightgoaboutbuildingone.
2.1INTRODUCTION
Anagentisanythingthatcanbeviewedasperceivingitsenvironmentthroughsensorsandacting
uponthatenvironment througheffectors.Ahumanagenthaseyes,ears,andotherorgansfor
sensors,andhands,legs,mouth,andotherbodypartsforeffectors.Aroboticagentsubstitutes
camerasandinfraredrange®ndersforthesensorsandvariousmotorsfortheeffectors. A
softwareagenthasencodedbitstringsasitsperceptsandactions.Agenericagentisdiagrammed
inFigure2.1.
Ouraiminthisbookistodesignagentsthatdoagoodjobofactingontheirenvironment.
First,wewillbealittlemorepreciseaboutwhatwemeanbyagoodjob.Thenwewilltalkabout
differentdesignsforsuccessful agentsÐ®lling inthequestionmarkinFigure2.1.Wediscuss
someofthegeneralprinciples usedinthedesignofagentsthroughout thebook,chiefamong
whichistheprinciple thatagentsshouldknowthings.Finally,weshowhowtocoupleanagent
toanenvironment anddescribeseveralkindsofenvironments.
2.2HOWAGENTSSHOULDACT
Arationalagentisonethatdoestherightthing.Obviously,thisisbetterthandoingthewrong RATIONALAGENT
thing,butwhatdoesitmean?Asa®rstapproximation, wewillsaythattherightactionisthe
onethatwillcausetheagenttobemostsuccessful. Thatleavesuswiththeproblemofdeciding
howandwhentoevaluatetheagent'ssuccess.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.31
32 Chapter 2.Intelligent Agents
?
agentperceptssensors
actions
effectorsenvironment
Figure2.1Agentsinteractwithenvironments throughsensorsandeffectors.
Weusethetermperformance measureforthehowÐthecriteriathatdetermine howPERFORMANCE
MEASURE
successful anagentis.Obviously,thereisnotone®xedmeasuresuitableforallagents.We
couldasktheagentforasubjectiveopinionofhowhappyitiswithitsownperformance, but
someagentswouldbeunabletoanswer,andotherswoulddeludethemselves.(Humanagentsin
particular arenotorious forªsourgrapesºÐsaying theydidnotreallywantsomething afterthey
areunsuccessful atgettingit.)Therefore, wewillinsistonanobjectiveperformance measure
imposedbysomeauthority.Inotherwords,weasoutsideobserversestablishastandardofwhat
itmeanstobesuccessful inanenvironment anduseittomeasuretheperformance ofagents.
Asanexample,considerthecaseofanagentthatissupposed tovacuumadirty¯oor.A
plausible performance measurewouldbetheamountofdirtcleanedupinasingleeight-hour shift.
Amoresophisticated performance measurewouldfactorintheamountofelectricity consumed
andtheamountofnoisegenerated aswell.Athirdperformance measuremightgivehighest
markstoanagentthatnotonlycleansthe¯oorquietlyandef®ciently,butalso®ndstimetogo
windsur®ng attheweekend.1
Thewhenofevaluatingperformance isalsoimportant. Ifwemeasured howmuchdirtthe
agenthadcleanedupinthe®rsthouroftheday,wewouldberewardingthoseagentsthatstart
fast(eveniftheydolittleornoworklateron),andpunishing thosethatworkconsistently .Thus,
wewanttomeasureperformance overthelongrun,beitaneight-hour shiftoralifetime.
Weneedtobecarefultodistinguish betweenrationality andomniscience .Anomniscient OMNISCIENCE
agentknowstheactualoutcome ofitsactions,andcanactaccordingly; butomniscience is
impossible inreality.Consider thefollowingexample:IamwalkingalongtheChampsElysÂees
onedayandIseeanoldfriendacrossthestreet.Thereisnotraf®cnearbyandI'mnototherwise
engaged, so,beingrational,Istarttocrossthestreet.Meanwhile, at33,000feet,acargodoor
fallsoffapassingairliner,2andbeforeImakeittotheothersideofthestreetIam¯attened. Was
Iirrational tocrossthestreet?ItisunlikelythatmyobituarywouldreadªIdiotattemptstocross
1Thereisadangerhereforthosewhoestablish performance measures: youoftengetwhatyouaskfor.Thatis,if
youmeasuresuccessbytheamountofdirtcleanedup,thensomecleveragentisboundtobringinaloadofdirteach
morning, quicklycleanitup,andgetagoodperformance score.Whatyoureallywanttomeasureishowcleanthe¯oor
is,butdetermining thatismoredif®cultthanjustweighing thedirtcleanedup.
2SeeN.Henderson, ªNewdoorlatchesurgedforBoeing747jumbojets,ºWashington Post,8/24/89.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.2.HowAgentsShouldAct 33
street.ºRather,thispointsoutthatrationality isconcerned withexpectedsuccessgivenwhathas
beenperceived.Crossing thestreetwasrationalbecausemostofthetimethecrossingwouldbe
successful, andtherewasnowayIcouldhaveforeseenthefallingdoor.Notethatanotheragent
thatwasequipped withradarfordetecting fallingdoorsorasteelcagestrongenoughtorepel
themwouldbemoresuccessful, butitwouldnotbeanymorerational.
Inotherwords,wecannotblameanagentforfailingtotakeintoaccountsomething itcould
notperceive,orforfailingtotakeanaction(suchasrepelling thecargodoor)thatitisincapable
oftaking.Butrelaxingtherequirement ofperfection isnotjustaquestionofbeingfairtoagents.
Thepointisthatifwespecifythatanintelligent agentshouldalwaysdowhatisactuallytheright
thing,itwillbeimpossible todesignanagenttoful®llthisspeci®cationÐunless weimprovethe
performance ofcrystalballs.
Insummary,whatisrationalatanygiventimedependsonfourthings:
Theperformance measurethatde®nesdegreeofsuccess.
Everythingthattheagenthasperceivedsofar.Wewillcallthiscomplete perceptual history
theperceptsequence . PERCEPT SEQUENCE
Whattheagentknowsabouttheenvironment.
Theactionsthattheagentcanperform.
Thisleadstoade®nition ofanidealrationalagent:Foreachpossibleperceptsequence, anIDEALRATIONAL
AGENT
idealrationalagentshoulddowhateveractionisexpectedtomaximize itsperformance measure,
onthebasisoftheevidenceprovidedbytheperceptsequence andwhateverbuilt-inknowledge
theagenthas.
Weneedtolookcarefully atthisde®nition. At®rstglance,itmightappeartoallowan
agenttoindulgeinsomedecidedly underintelligent activities.Forexample,ifanagentdoesnot
lookbothwaysbeforecrossingabusyroad,thenitsperceptsequence willnottellitthatthereis
alargetruckapproaching athighspeed.Thede®nition seemstosaythatitwouldbeOKforitto
crosstheroad.Infact,thisinterpretation iswrongontwocounts.First,itwouldnotberational
tocrosstheroad:theriskofcrossingwithoutlookingistoogreat.Second,anidealrational
agentwouldhavechosentheªlookingº actionbeforesteppingintothestreet,becauselooking
helpsmaximize theexpectedperformance. Doingactionsinordertoobtainusefulinformation
isanimportant partofrationality andiscoveredindepthinChapter16.
Thenotionofanagentismeanttobeatoolforanalyzing systems, notanabsolute
characterization thatdividestheworldintoagentsandnon-agents. Consider aclock.Itcanbe
thoughtofasjustaninanimate object,oritcanbethoughtofasasimpleagent.Asanagent,
mostclocksalwaysdotherightaction:movingtheirhands(ordisplaying digits)intheproper
fashion.Clocksareakindofdegenerateagentinthattheirperceptsequence isempty;nomatter
whathappensoutside,theclock'sactionshouldbeunaffected.
Well,thisisnotquitetrue.IftheclockanditsownertakeatripfromCalifornia toAustralia,
therightthingfortheclocktodowouldbetoturnitselfbacksixhours.Wedonotgetupsetat
ourclocksforfailingtodothisbecausewerealizethattheyareactingrationally ,giventheirlack
ofperceptual equipment.3
3Oneoftheauthorsstillgetsasmallthrillwhenhiscomputer successfully resetsitselfatdaylightsavingstime.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
34 Chapter 2.Intelligent Agents
Theidealmapping fromperceptsequences toactions
Oncewerealizethatanagent'sbehaviordependsonlyonitsperceptsequence todate,thenwecan
describeanyparticular agentbymakingatableoftheactionittakesinresponsetoeachpossible
perceptsequence. (Formostagents,thiswouldbeaverylonglistÐin®nite, infact,unlesswe
placeaboundonthelengthofperceptsequences wewanttoconsider.)Suchalistiscalled
amapping fromperceptsequences toactions.Wecan,inprinciple, ®ndoutwhichmapping MAPPING
correctly describes anagentbytryingoutallpossibleperceptsequences andrecording which
actionstheagentdoesinresponse. (Iftheagentusessomerandomization initscomputations,
thenwewouldhavetotrysomeperceptsequences severaltimestogetagoodideaoftheagent's
averagebehavior.)Andifmappings describeagents,thenidealmappings describeidealagents. IDEALMAPPINGS
Specifying whichactionanagentoughttotakeinresponsetoanygivenperceptsequence provides
adesignforanidealagent.
Thisdoesnotmean,ofcourse,thatwehavetocreateanexplicittablewithanentry
foreverypossibleperceptsequence. Itispossibletode®neaspeci®cation ofthemapping
withoutexhaustivelyenumerating it.Consider averysimpleagent:thesquare-root function
onacalculator .Theperceptsequence forthisagentisasequence ofkeystrokesrepresenting a
number,andtheactionistodisplayanumberonthedisplayscreen.Theidealmapping isthat
whentheperceptisapositivenumberx,therightactionistodisplayapositivenumberzsuch
thatz2
x,accurateto,say,15decimalplaces.Thisspeci®cation oftheidealmapping does
notrequirethedesignertoactuallyconstruct atableofsquareroots.Nordoesthesquare-root
functionhavetouseatabletobehavecorrectly: Figure2.2showspartoftheidealmappingand
asimpleprogramthatimplements themappingusingNewton'smethod.
Thesquare-root exampleillustrates therelationship betweentheidealmapping andan
idealagentdesign,foraveryrestricted task.Whereasthetableisverylarge,theagentisanice,
compactprogram. Itturnsoutthatitispossibletodesignnice,compactagentsthatimplement
Perceptx Actionz
1.0 1.000000000000000
1.1 1.048808848170152
1.2 1.095445115010332
1.3 1.140175425099138
1.4 1.183215956619923
1.5 1.224744871391589
1.6 1.264911064067352
1.7 1.303840481040530
1.8 1.341640786499874
1.9 1.378404875209022
......function SQRT(x)
z
1.0 /*initialguess*/
repeatuntil
z2
x
<10
15
z
z
(z2
x)/(2z)
end
returnz
Figure2.2Partoftheidealmappingforthesquare-root problem(accurate to15digits),anda
corresponding programthatimplements theidealmapping.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.3.Structure ofIntelligent Agents 35
theidealmappingformuchmoregeneralsituations: agentsthatcansolvealimitlessvarietyof
tasksinalimitlessvarietyofenvironments. Beforewediscusshowtodothis,weneedtolook
atonemorerequirement thatanintelligent agentoughttosatisfy.
Autonomy
Thereisonemorethingtodealwithinthede®nition ofanidealrationalagent:theªbuilt-in
knowledgeºpart.Iftheagent'sactionsarebasedcompletely onbuilt-inknowledge,suchthatit
needpaynoattention toitspercepts, thenwesaythattheagentlacksautonomy .Forexample, AUTONOMY
iftheclockmanufacturer wasprescient enoughtoknowthattheclock'sownerwouldbegoing
toAustralia atsomeparticular date,thenamechanism couldbebuiltintoadjustthehands
automatically bysixhoursatjusttherighttime.Thiswouldcertainlybesuccessful behavior,but
theintelligence seemstobelongtotheclock'sdesignerratherthantotheclockitself.
Anagent'sbehaviorcanbebasedonbothitsownexperience andthebuilt-inknowledge
usedinconstructing theagentfortheparticular environment inwhichitoperates. Asystemis
autonomous4totheextentthatitsbehavior isdetermined byitsownexperience .Itwouldbe
toostringent, though,torequirecomplete autonomy fromthewordgo:whentheagenthashad
littleornoexperience, itwouldhavetoactrandomly unlessthedesignergavesomeassistance.
So,justasevolutionprovidesanimalswithenoughbuilt-inre¯exessothattheycansurvivelong
enoughtolearnforthemselves,itwouldbereasonable toprovideanarti®cialintelligent agent
withsomeinitialknowledgeaswellasanabilitytolearn.
Autonomy notonly®tsinwithourintuition, butitisanexampleofsoundengineering
practices. Anagentthatoperatesonthebasisofbuilt-inassumptions willonlyoperatesuccess-
fullywhenthoseassumptions hold,andthuslacks¯exibility.Consider,forexample,thelowly
dungbeetle.Afterdiggingitsnestandlayingitseggs,itfetchesaballofdungfromanearbyheap
toplugtheentrance; iftheballofdungisremovedfromitsgraspenroute,thebeetlecontinues
onandpantomimes plugging thenestwiththenonexistentdungball,nevernoticingthatitis
missing. Evolutionhasbuiltanassumption intothebeetle'sbehavior,andwhenitisviolated,
unsuccessful behaviorresults.Atrulyautonomous intelligent agentshouldbeabletooperate
successfully inawidevarietyofenvironments, givensuf®cienttimetoadapt.
2.3STRUCTURE OFINTELLIGENT AGENTS
Sofarwehavetalkedaboutagentsbydescribing theirbehaviorÐtheactionthatisperformed
afteranygivensequence ofpercepts. Now,wewillhavetobitethebulletandtalkabouthow
theinsideswork.ThejobofAIistodesigntheagentprogram:afunctionthatimplements AGENTPROGRAM
theagentmapping fromperceptstoactions.Weassumethisprogramwillrunonsomesortof
computing device,whichwewillcallthearchitectur e.Obviously,theprogramwechoosehas ARCHITECTURE
4Thewordªautonomousº hasalsocometomeansomething likeªnotundertheimmediate controlofahuman,ºasin
ªautonomous landvehicle.ºWeareusingitinastrongersense.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
36 Chapter 2.Intelligent Agents
tobeonethatthearchitecture willacceptandrun.Thearchitecture mightbeaplaincomputer,or
itmightincludespecial-purpose hardware forcertaintasks,suchasprocessing cameraimagesor
®lteringaudioinput.Itmightalsoincludesoftwarethatprovidesadegreeofinsulation between
therawcomputer andtheagentprogram, sothatwecanprogramatahigherlevel.Ingeneral,
thearchitecture makestheperceptsfromthesensorsavailabletotheprogram, runstheprogram,
andfeedstheprogram'sactionchoicestotheeffectorsastheyaregenerated. Therelationship
amongagents,architectures, andprograms canbesummedupasfollows:
agent=architecture+program
Mostofthisbookisaboutdesigning agentprograms, althoughChapters 24and25dealdirectly
withthearchitecture.
Beforewedesignanagentprogram, wemusthaveaprettygoodideaofthepossible
perceptsandactions,whatgoalsorperformance measuretheagentissupposed toachieve,and
whatsortofenvironment itwilloperatein.5Thesecomeinawidevariety.Figure2.3showsthe
basicelements foraselection ofagenttypes.
Itmaycomeasasurprisetosomereadersthatweincludeinourlistofagenttypessome
programs thatseemtooperateintheentirelyarti®cialenvironment de®nedbykeyboardinput
andcharacter outputonascreen.ªSurely,ºonemightsay,ªthisisnotarealenvironment, is
it?ºInfact,whatmattersisnotthedistinction betweenªrealºandªarti®cialº environments,
butthecomplexityoftherelationship amongthebehavioroftheagent,theperceptsequence
generated bytheenvironment, andthegoalsthattheagentissupposed toachieve.Someªrealº
environments areactuallyquitesimple.Forexample,arobotdesigned toinspectpartsasthey
comebyonaconveyerbeltcanmakeuseofanumberofsimplifying assumptions: thatthe
lightingisalwaysjustso,thattheonlythingontheconveyerbeltwillbepartsofacertainkind,
andthatthereareonlytwoactionsÐaccept thepartormarkitasareject.
Incontrast,somesoftwareagents(orsoftwarerobotsorsoftbots)existinrich,unlimited SOFTWAREAGENTS
SOFTBOTS domains. Imagineasoftbotdesigned to¯ya¯ightsimulator fora747.Thesimulator isa
verydetailed,complexenvironment, andthesoftwareagentmustchoosefromawidevarietyof
actionsinrealtime.Orimagineasoftbotdesigned toscanonlinenewssourcesandshowthe
interesting itemstoitscustomers. Todowell,itwillneedsomenaturallanguage processing
abilities,itwillneedtolearnwhateachcustomer isinterested in,anditwillneedtodynamically
changeitsplanswhen,forexample,theconnection foronenewssourcecrashesoranewone
comesonline.
Someenvironments blurthedistinction betweenªrealºandªarti®cial. ºIntheALIVE
environment (Maesetal.,1994),softwareagentsaregivenasperceptsadigitizedcameraimage
ofaroomwhereahumanwalksabout.Theagentprocesses thecameraimageandchoosesan
action.Theenvironment alsodisplaysthecameraimageonalargedisplayscreenthatthehuman
canwatch,andsuperimposes ontheimageacomputer graphicsrendering ofthesoftwareagent.
Onesuchimageisacartoondog,whichhasbeenprogrammed tomovetowardthehuman(unless
hepointstosendthedogaway)andtoshakehandsorjumpupeagerlywhenthehumanmakes
certaingestures.
5Fortheacronymically minded,wecallthisthePAGE(Percepts, Actions,Goals,Environment) description. Notethat
thegoalsdonotnecessarily havetoberepresented withintheagent;theysimplydescribetheperformance measureby
whichtheagentdesignwillbejudged.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.3.Structure ofIntelligent Agents 37
AgentType Percepts Actions Goals Environment
Medicaldiagnosis
systemSymptoms,
®ndings,patient's
answersQuestions, tests,
treatmentsHealthypatient,
minimize costsPatient,hospital
Satelliteimage
analysissystemPixelsofvarying
intensity,colorPrinta
categorization of
sceneCorrect
categorizationImagesfrom
orbitingsatellite
Part-picking robot Pixelsofvarying
intensityPickuppartsand
sortintobinsPlacepartsin
correctbinsConveyorbelt
withparts
Re®nerycontroller Temperature,
pressurereadingsOpen,close
valves;adjust
temperatureMaximize purity,
yield,safetyRe®nery
InteractiveEnglish
tutorTypedwords Printexercises,
suggestions,
correctionsMaximize
student'sscoreon
testSetofstudents
Figure2.3Examples ofagenttypesandtheirPAGEdescriptions.
Themostfamousarti®cialenvironment istheTuringTestenvironment, inwhichthewhole
pointisthatrealandarti®cialagentsareonequalfooting,buttheenvironment ischallenging
enoughthatitisverydif®cultforasoftwareagenttodoaswellasahuman.Section2.4describes
inmoredetailthefactorsthatmakesomeenvironments moredemanding thanothers.
Agentprograms
Wewillbebuildingintelligent agentsthroughout thebook.Theywillallhavethesameskeleton,
namely,accepting perceptsfromanenvironment andgenerating actions.Theearlyversionsof
agentprograms willhaveaverysimpleform(Figure2.4).Eachwillusesomeinternaldata
structures thatwillbeupdatedasnewperceptsarrive.Thesedatastructures areoperatedonby
theagent'sdecision-making procedures togenerateanactionchoice,whichisthenpassedtothe
architecture tobeexecuted.
Therearetwothingstonoteaboutthisskeletonprogram. First,eventhoughwede®ned
theagentmapping asafunctionfromperceptsequences toactions,theagentprogramreceives
onlyasingleperceptasitsinput.Itisuptotheagenttobuilduptheperceptsequence inmemory,
ifitsodesires. Insomeenvironments, itispossibletobequitesuccessful withoutstoring
theperceptsequence, andincomplexdomains, itisinfeasible tostorethecomplete sequence.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
38 Chapter 2.Intelligent Agents
function SKELETON-AGENT(percept)returnsaction
static:memory,theagent'smemoryoftheworld
memory
 UPDATE-MEMORY(memory,percept)
action
 CHOOSE-BEST-ACTION(memory)
memory
 UPDATE-MEMORY(memory,action)
returnaction
Figure2.4Askeletonagent.Oneachinvocation,theagent'smemoryisupdatedtore¯ect
thenewpercept,thebestactionischosen,andthefactthattheactionwastakenisalsostoredin
memory.Thememorypersistsfromoneinvocationtothenext.
Second,thegoalorperformance measureisnotpartoftheskeletonprogram. Thisisbecause
theperformance measureisappliedexternally tojudgethebehavioroftheagent,anditisoften
possibletoachievehighperformance withoutexplicitknowledgeoftheperformance measure
(see,e.g.,thesquare-root agent).
Whynotjustlookuptheanswers?
LetusstartwiththesimplestpossiblewaywecanthinkoftowritetheagentprogramÐa lookup
table.Figure2.5showstheagentprogram. Itoperatesbykeepinginmemoryitsentirepercept
sequence, andusingittoindexintotable,whichcontainstheappropriate actionforallpossible
perceptsequences.
Itisinstructivetoconsiderwhythisproposalisdoomedtofailure:
1.Thetableneededforsomething assimpleasanagentthatcanonlyplaychesswouldbe
about35100entries.
2.Itwouldtakequitealongtimeforthedesignertobuildthetable.
3.Theagenthasnoautonomy atall,becausethecalculation ofbestactionsisentirelybuilt-in.
Soiftheenvironment changedinsomeunexpectedway,theagentwouldbelost.
function TABLE-DRIVEN-AGENT(percept)returnsaction
static:percepts,asequence, initiallyempty
table,atable,indexedbyperceptsequences, initiallyfullyspeci®ed
appendpercepttotheendofpercepts
action
 LOOKUP(percepts,table)
returnaction
Figure2.5Anagentbasedonaprespeci®ed lookuptable.Itkeepstrackofthepercept
sequence andjustlooksupthebestaction.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.3.Structure ofIntelligent Agents 39
4.Evenifwegavetheagentalearningmechanism aswell,sothatitcouldhaveadegreeof
autonomy, itwouldtakeforevertolearntherightvalueforallthetableentries.
Despiteallthis,TABLE-DRIVEN-AGENTdoesdowhatwewant:itimplements thedesiredagent
mapping. Itisnotenoughtosay,ªItcan'tbeintelligent; ºthepointistounderstand whyanagent
thatreasons(asopposedtolookingthingsupinatable)candoevenbetterbyavoidingthefour
drawbackslistedhere.
Anexample
Atthispoint,itwillbehelpfultoconsider aparticular environment, sothatourdiscussion
canbecomemoreconcrete. Mainlybecauseofitsfamiliarity ,andbecauseitinvolvesabroad
rangeofskills,wewilllookatthejobofdesigning anautomated taxidriver.Weshouldpoint
out,beforethereaderbecomes alarmed, thatsuchasystemiscurrently somewhatbeyondthe
capabilities ofexistingtechnology ,althoughmostofthecomponents areavailableinsomeform.6
Thefulldrivingtaskisextremely open-ended Ðthereisnolimittothenovelcombinations of
circumstances thatcanarise(whichisanotherreasonwhywechoseitasafocusfordiscussion).
Wemust®rstthinkaboutthepercepts, actions,goalsandenvironment forthetaxi.They
aresummarized inFigure2.6anddiscussed inturn.
AgentType Percepts Actions Goals Environment
Taxidriver Cameras,
speedometer ,GPS,
sonar,microphoneSteer,accelerate,
brake,talkto
passengerSafe,fast,legal,
comfortable trip,
maximize pro®tsRoads,other
traf®c,pedestrians,
customers
Figure2.6Thetaxidriveragenttype.
Thetaxiwillneedtoknowwhereitis,whatelseisontheroad,andhowfastitisgoing.
Thisinformation canbeobtainedfromtheperceptsprovidedbyoneormorecontrollable TV
cameras,thespeedometer ,andodometer.Tocontrolthevehicleproperly,especially oncurves,it
shouldhaveanaccelerometer; itwillalsoneedtoknowthemechanical stateofthevehicle,soit
willneedtheusualarrayofengineandelectrical systemsensors.Itmighthaveinstruments that
arenotavailabletotheaveragehumandriver:asatelliteglobalpositioning system(GPS)togive
itaccuratepositioninformation withrespecttoanelectronic map;orinfraredorsonarsensorsto
detectdistances toothercarsandobstacles. Finally,itwillneedamicrophone orkeyboardfor
thepassengers totellittheirdestination.
Theactionsavailabletoataxidriverwillbemoreorlessthesameonesavailabletoahuman
driver:controlovertheenginethroughthegaspedalandcontroloversteeringandbraking. In
addition, itwillneedoutputtoascreenorvoicesynthesizer totalkbacktothepassengers, and
perhapssomewaytocommunicate withothervehicles.
6Seepage26foradescription ofanexistingdrivingrobot,orlookattheconference proceedings onIntelligent Vehicle
andHighway Systems(IVHS).
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
40 Chapter 2.Intelligent Agents
Whatperformance measurewouldwelikeourautomated drivertoaspireto?Desirable
qualitiesincludegettingtothecorrectdestination; minimizing fuelconsumption andwearand
tear;minimizing thetriptimeand/orcost;minimizing violations oftraf®clawsanddisturbances
tootherdrivers;maximizing safetyandpassenger comfort;maximizing pro®ts.Obviously,some
ofthesegoalscon¯ict,sotherewillbetrade-offsinvolved.
Finally,werethisarealproject,wewouldneedtodecidewhatkindofdrivingenvironment
thetaxiwillface.Shoulditoperateonlocalroads,oralsoonfreeways?WillitbeinSouthern
California, wheresnowisseldomaproblem, orinAlaska,whereitseldomisnot?Willitalways
bedrivingontheright,ormightwewantittobe¯exibleenoughtodriveontheleftincasewe
wanttooperatetaxisinBritainorJapan?Obviously,themorerestricted theenvironment, the
easierthedesignproblem.
Nowwehavetodecidehowtobuildarealprogram toimplement themapping from
perceptstoaction.Wewill®ndthatdifferentaspectsofdrivingsuggestdifferenttypesofagent
program. Wewillconsiderfourtypesofagentprogram:
Simplere¯exagents
Agentsthatkeeptrackoftheworld
Goal-based agents
Utility-based agents
Simplere¯exagents
Theoptionofconstructing anexplicitlookuptableisoutofthequestion. Thevisualinputfrom
asinglecameracomesinattherateof50megabytespersecond(25framespersecond,1000
1000pixelswith8bitsofcolorand8bitsofintensityinformation). Sothelookuptableforan
hourwouldbe260
60
50Mentries.
However,wecansummarize portionsofthetablebynotingcertaincommonly occurring
input/outputassociations. Forexample,ifthecarinfrontbrakes,anditsbrakelightscomeon,
thenthedrivershouldnoticethisandinitiatebraking.Inotherwords,someprocessing isdoneon
thevisualinputtoestablishthecondition wecallªThecarinfrontisbrakingº; thenthistriggers
someestablished connection intheagentprogramtotheactionªinitiatebrakingº. Wecallsuch
aconnection acondition±action rule7writtenasCONDITION±A CTION
RULE
ifcar-in-front-is-brakingtheninitiate-br aking
Humansalsohavemanysuchconnections, someofwhicharelearnedresponses (asfordriving)
andsomeofwhichareinnatere¯exes(suchasblinkingwhensomething approaches theeye).
Inthecourseofthebook,wewillseeseveraldifferentwaysinwhichsuchconnections canbe
learnedandimplemented.
Figure2.7givesthestructure ofasimplere¯exagentinschematic form,showinghow
thecondition±action rulesallowtheagenttomaketheconnection frompercepttoaction.(Do
notworryifthisseemstrivial;itgetsmoreinteresting shortly.)Weuserectangles todenote
7Alsocalledsituation±action rules,productions ,orif±thenrules.Thelasttermisalsousedbysomeauthorsfor
logicalimplications, sowewillavoiditaltogether .
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.3.Structure ofIntelligent Agents 41
Agent
Environment
Sensors
EffectorsWhat the world
is like now
What action I
should do now
Figure2.7Schematic diagramofasimplere¯exagent.
function SIMPLE-REFLEX-AGENT(percept)returnsaction
static:rules,asetofcondition-action rules
state
INTERPRET -INPUT(percept)
rule
RULE-MATCH(state,rules)
action
 RULE-ACTION[rule]
returnaction
Figure2.8Asimplere¯exagent.Itworksby®ndingarulewhosecondition matchesthe
currentsituation(asde®nedbythepercept)andthendoingtheactionassociated withthatrule.
thecurrentinternalstateoftheagent'sdecisionprocess,andovalstorepresent thebackground
information usedintheprocess. Theagentprogram, whichisalsoverysimple,isshownin
Figure2.8.TheINTERPRET -INPUTfunctiongenerates anabstracted description ofthecurrent
statefromthepercept,andtheRULE-MATCHfunctionreturnsthe®rstruleinthesetofrulesthat
matchesthegivenstatedescription. Although suchagentscanbeimplemented veryef®ciently
(seeChapter10),theirrangeofapplicability isverynarrow,asweshallsee.
Agentsthatkeeptrackoftheworld
Thesimplere¯exagentdescribed beforewillworkonlyifthecorrectdecisioncanbemade
onthebasisofthecurrentpercept. Ifthecarinfrontisarecentmodel,andhasthecentrally
mounted brakelightnowrequiredintheUnitedStates,thenitwillbepossibletotellifitis
brakingfromasingleimage.Unfortunately ,oldermodelshavedifferentcon®gurations oftail
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
42 Chapter 2.Intelligent Agents
lights,brakelights,andturn-signal lights,anditisnotalwayspossibletotellifthecarisbraking.
Thus,evenforthesimplebrakingrule,ourdriverwillhavetomaintain somesortofinternal
stateinordertochooseanaction.Here,theinternalstateisnottooextensiveÐitjustneedsthe INTERNAL STATE
previousframefromthecameratodetectwhentworedlightsattheedgeofthevehiclegoonor
offsimultaneously .
Consider thefollowingmoreobviouscase:fromtimetotime,thedriverlooksinthe
rear-viewmirrortocheckonthelocations ofnearbyvehicles.Whenthedriverisnotlookingin
themirror,thevehiclesinthenextlaneareinvisible(i.e.,thestatesinwhichtheyarepresentand
absentareindistinguishabl e);butinordertodecideonalane-change maneuver,thedriverneeds
toknowwhetherornottheyarethere.
Theproblemillustrated bythisexamplearisesbecausethesensorsdonotprovideaccessto
thecomplete stateoftheworld.Insuchcases,theagentmayneedtomaintainsomeinternalstate
information inordertodistinguish betweenworldstatesthatgeneratethesameperceptual input
butnonetheless aresigni®cantly different.Here,ªsigni®cantly differentºmeansthatdifferent
actionsareappropriate inthetwostates.
Updating thisinternalstateinformation astimegoesbyrequirestwokindsofknowledgeto
beencodedintheagentprogram. First,weneedsomeinformation abouthowtheworldevolves
independently oftheagentÐfor example,thatanovertakingcargenerally willbecloserbehind
thanitwasamomentago.Second,weneedsomeinformation abouthowtheagent'sownactions
affecttheworldÐfor example,thatwhentheagentchangeslanestotheright,thereisagap(at
leasttemporarily) inthelaneitwasinbefore,orthatafterdrivingfor®veminutesnorthbound
onthefreewayoneisusuallyabout®vemilesnorthofwhereonewas®veminutesago.
Figure2.9givesthestructure ofthere¯exagent,showinghowthecurrentperceptis
combined withtheoldinternalstatetogeneratetheupdateddescription ofthecurrentstate.The
agentprogramisshowninFigure2.10.Theinteresting partisthefunctionUPDATE-STATE,which
isresponsible forcreatingthenewinternalstatedescription. Aswellasinterpreting thenew
perceptinthelightofexistingknowledgeaboutthestate,itusesinformation abouthowtheworld
evolvestokeeptrackoftheunseenpartsoftheworld,andalsomustknowaboutwhattheagent's
actionsdotothestateoftheworld.DetailedexamplesappearinChapters 7and17.
Goal-based agents
Knowingaboutthecurrentstateoftheenvironment isnotalwaysenoughtodecidewhattodo.
Forexample,ataroadjunction, thetaxicanturnleft,right,orgostraighton.Therightdecision
dependsonwherethetaxiistryingtogetto.Inotherwords,aswellasacurrentstatedescription,
theagentneedssomesortofgoalinformation, whichdescribes situations thataredesirableÐ GOAL
forexample,beingatthepassenger' sdestination. Theagentprogramcancombine thiswith
information abouttheresultsofpossibleactions(thesameinformation aswasusedtoupdate
internalstateinthere¯exagent)inordertochooseactionsthatachievethegoal.Sometimes
thiswillbesimple,whengoalsatisfaction resultsimmediately fromasingleaction;sometimes,
itwillbemoretricky,whentheagenthastoconsiderlongsequences oftwistsandturnsto®nd
awaytoachievethegoal.Search(Chapters 3to5)andplanning (Chapters 11to13)arethe SEARCH
PLANNING sub®elds ofAIdevotedto®ndingactionsequences thatdoachievetheagent'sgoals.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.3.Structure ofIntelligent Agents 43
AgentEnvironment
Sensors
EffectorsWhat the world
is like now
What action I
should do nowState
How the world evolves
What my actions do
Figure2.9Are¯exagentwithinternalstate.
function REFLEX-AGENT-WITH-STATE(percept)returnsaction
static:state,adescription ofthecurrentworldstate
rules,asetofcondition-action rules
state
UPDATE-STATE(state,percept)
rule
RULE-MATCH(state,rules)
action
 RULE-ACTION[rule]
state
UPDATE-STATE(state,action)
returnaction
Figure2.10Are¯exagentwithinternalstate.Itworksby®ndingarulewhosecondition
matchesthecurrentsituation (asde®nedbytheperceptandthestoredinternalstate)andthen
doingtheactionassociated withthatrule.
Noticethatdecision±making ofthiskindisfundamentally differentfromthecondition±
actionrulesdescribed earlier,inthatitinvolvesconsideration ofthefutureÐboth ªWhatwill
happenifIdosuch-and-such?º andªWillthatmakemehappy?º Inthere¯exagentdesigns,
thisinformation isnotexplicitlyused,becausethedesignerhasprecomputed thecorrectaction
forvariouscases.There¯exagentbrakeswhenitseesbrakelights.Agoal-based agent,in
principle, couldreasonthatifthecarinfronthasitsbrakelightson,itwillslowdown.From
thewaytheworldusuallyevolves,theonlyactionthatwillachievethegoalofnothittingother
carsistobrake.Although thegoal-based agentappearslessef®cient,itisfarmore¯exible.Ifit
startstorain,theagentcanupdateitsknowledgeofhoweffectivelyitsbrakeswilloperate;this
willautomatically causealloftherelevantbehaviorstobealteredtosuitthenewconditions. For
there¯exagent,ontheotherhand,wewouldhavetorewritealargenumberofcondition±action
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
44 Chapter 2.Intelligent Agents
rules.Ofcourse,thegoal-based agentisalsomore¯exiblewithrespecttoreaching different
destinations. Simplybyspecifying anewdestination, wecangetthegoal-based agenttocome
upwithanewbehavior.There¯exagent'srulesforwhentoturnandwhentogostraightwill
onlyworkforasingledestination; theymustallbereplacedtogosomewherenew.
Figure2.11showsthegoal-based agent'sstructure. Chapter13containsdetailedagent
programs forgoal-based agents.
AgentEnvironment
Sensors
EffectorsWhat it will be like
  if I do action AWhat the world
is like now
What action I
should do nowState
How the world evolves
What my actions do
Goals
Figure2.11Anagentwithexplicitgoals.
Utility-based agents
Goalsalonearenotreallyenoughtogeneratehigh-quality behavior.Forexample,therearemany
actionsequences thatwillgetthetaxitoitsdestination, therebyachievingthegoal,butsome
arequicker,safer,morereliable,orcheaperthanothers.Goalsjustprovideacrudedistinction
betweenªhappyºandªunhappyº states,whereasamoregeneralperformance measureshould
allowacomparison ofdifferentworldstates(orsequences ofstates)according toexactlyhow
happytheywouldmaketheagentiftheycouldbeachieved.Becauseªhappyºdoesnotsound
veryscienti®c, thecustomary terminology istosaythatifoneworldstateispreferred toanother,
thenithashigherutilityfortheagent.8UTILITY
Utilityistherefore afunctionthatmapsastate9ontoarealnumber,whichdescribes the
associated degreeofhappiness. Acomplete speci®cation oftheutilityfunctionallowsrational
decisions intwokindsofcaseswheregoalshavetrouble.First,whentherearecon¯icting goals,
onlysomeofwhichcanbeachieved(forexample,speedandsafety),theutilityfunctionspeci®es
theappropriate trade-off.Second,whenthereareseveralgoalsthattheagentcanaimfor,none
8Thewordªutilityºherereferstoªthequalityofbeinguseful,ºnottotheelectriccompany orwaterworks.
9Orsequence ofstates,ifwearemeasuring theutilityofanagentoverthelongrun.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.4.Environments 45
ofwhichcanbeachievedwithcertainty,utilityprovidesawayinwhichthelikelihood ofsuccess
canbeweighedupagainsttheimportance ofthegoals.
InChapter16,weshowthatanyrationalagentcanbedescribed aspossessing autility
function. Anagentthatpossesses anexplicitutilityfunctionthereforecanmakerationaldecisions,
butmayhavetocomparetheutilitiesachievedbydifferentcoursesofactions.Goals,although
cruder,enabletheagenttopickanactionrightawayifitsatis®esthegoal.Insomecases,
moreover,autilityfunctioncanbetranslated intoasetofgoals,suchthatthedecisions madeby
agoal-based agentusingthosegoalsareidenticaltothosemadebytheutility-basedagent.
Theoverallutility-based agentstructureappearsinFigure2.12.Actualutility-basedagent
programs appearinChapter5,whereweexaminegame-playing programs thatmustmake®ne
distinctions amongvariousboardpositions; andinChapter17,wherewetacklethegeneral
problemofdesigning decision-making agents.
AgentEnvironment
Sensors
EffectorsWhat it will be like
  if I do action AWhat the world
is like now
How happy I will be
   in such a state
What action I
should do nowState
How the world evolves
What my actions do
Utility
Figure2.12Acomplete utility-based agent.
2.4ENVIRONMENTS
Inthissectionandintheexercisesattheendofthechapter,youwillseehowtocoupleanagent
toanenvironment. Section2.3introduced severaldifferentkindsofagentsandenvironments.
Inallcases,however,thenatureoftheconnection betweenthemisthesame:actionsaredone
bytheagentontheenvironment, whichinturnprovidesperceptstotheagent.First,wewill
describethedifferenttypesofenvironments andhowtheyaffectthedesignofagents.Thenwe
willdescribeenvironment programs thatcanbeusedastestbedsforagentprograms.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
46 Chapter 2.Intelligent Agents
Propertiesofenvironments
Environments comeinseveral¯avors.Theprincipal distinctions tobemadeareasfollows:
Accessible vs.inaccessible . ACCESSIBLE
Ifanagent'ssensoryapparatus givesitaccesstothecomplete stateoftheenvironment,
thenwesaythattheenvironment isaccessible tothatagent.Anenvironment iseffectively
accessible ifthesensorsdetectallaspectsthatarerelevanttothechoiceofaction.An
accessible environment isconvenientbecausetheagentneednotmaintainanyinternalstate
tokeeptrackoftheworld.
Deterministic vs.nondeterministic . DETERMINISTIC
Ifthenextstateoftheenvironment iscompletely determined bythecurrentstateandthe
actionsselectedbytheagents,thenwesaytheenvironment isdeterministic. Inprinciple,
anagentneednotworryaboutuncertainty inanaccessible, deterministic environment. If
theenvironment isinaccessible, however,thenitmayappeartobenondeterministic. This
isparticularly trueiftheenvironment iscomplex,makingithardtokeeptrackofallthe
inaccessible aspects.Thus,itisoftenbettertothinkofanenvironment asdeterministic or
nondeterministic fromthepointofviewoftheagent.
Episodic vs.nonepisodic . EPISODIC
Inanepisodicenvironment, theagent'sexperience isdividedintoªepisodes. ºEachepisode
consistsoftheagentperceivingandthenacting.Thequalityofitsactiondependsjuston
theepisodeitself,becausesubsequent episodes donotdependonwhatactionsoccurin
previousepisodes. Episodic environments aremuchsimplerbecausetheagentdoesnot
needtothinkahead.
Staticvs.dynamic. STATIC
Iftheenvironment canchangewhileanagentisdeliberating, thenwesaytheenvironment
isdynamicforthatagent;otherwise itisstatic.Staticenvironments areeasytodealwith
becausetheagentneednotkeeplookingattheworldwhileitisdeciding onanaction,
norneeditworryaboutthepassageoftime.Iftheenvironment doesnotchangewiththe
passageoftimebuttheagent'sperformance scoredoes,thenwesaytheenvironment is
semidynamic . SEMIDYNAMIC
Discretevs.continuous . DISCRETE
Iftherearealimitednumberofdistinct,clearlyde®nedperceptsandactionswesaythat
theenvironment isdiscrete.ChessisdiscreteÐthere area®xednumberofpossiblemoves
oneachturn.TaxidrivingiscontinuousÐthe speedandlocationofthetaxiandtheother
vehiclessweepthrougharangeofcontinuous values.10
Wewillseethatdifferentenvironment typesrequiresomewhatdifferentagentprograms todeal
withthemeffectively.Itwillturnout,asyoumightexpect,thatthehardestcaseisinaccessible ,
nonepisodic ,dynamic,andcontinuous .Italsoturnsoutthatmostrealsituations aresocomplex
thatwhethertheyarereallydeterministic isamootpoint;forpracticalpurposes, theymustbe
treatedasnondeterministic.
10Ata®neenoughlevelofgranularity ,eventhetaxidrivingenvironment isdiscrete,becausethecameraimageis
digitizedtoyielddiscretepixelvalues.Butanysensibleagentprogramwouldhavetoabstractabovethislevel,uptoa
levelofgranularity thatiscontinuous.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.4.Environments 47
Figure2.13liststheproperties ofanumberoffamiliarenvironments. Notethattheanswers
canchangedepending onhowyouconceptualize theenvironments andagents.Forexample,
pokerisdeterministic iftheagentcankeeptrackoftheorderofcardsinthedeck,butitis
nondeterministic ifitcannot.Also,manyenvironments areepisodicathigherlevelsthanthe
agent'sindividualactions.Forexample,achesstournament consistsofasequence ofgames;
eachgameisanepisode,because(byandlarge)thecontributionofthemovesinonegametothe
agent'soverallperformance isnotaffectedbythemovesinitsnextgame.Ontheotherhand,
moveswithinasinglegamecertainlyinteract,sotheagentneedstolookaheadseveralmoves.
Environment Accessible Deterministic Episodic StaticDiscrete
Chesswithaclock Yes Yes No Semi Yes
Chesswithoutaclock Yes Yes No YesYes
Poker No No No YesYes
Backgammon Yes No No YesYes
Taxidriving No No No No No
Medicaldiagnosis system No No No No No
Image-analysis system Yes Yes YesSemi No
Part-picking robot No No Yes No No
Re®nerycontroller No No No No No
InteractiveEnglishtutor No No No No Yes
Figure2.13Examples ofenvironments andtheircharacteristics.
Environmentprograms
Thegenericenvironment programinFigure2.14illustrates thebasicrelationship betweenagents
andenvironments. Inthisbook,wewill®nditconvenientformanyoftheexamplesandexercises
touseanenvironment simulator thatfollowsthisprogramstructure. Thesimulator takesoneor
moreagentsasinputandarrangestorepeatedly giveeachagenttherightperceptsandreceiveback
anaction.Thesimulator thenupdatestheenvironment basedontheactions,andpossiblyother
dynamicprocesses intheenvironment thatarenotconsidered tobeagents(rain,forexample).
Theenvironment istherefore de®nedbytheinitialstateandtheupdatefunction. Ofcourse,an
agentthatworksinasimulator oughtalsotoworkinarealenvironment thatprovidesthesame
kindsofperceptsandacceptsthesamekindsofactions.
TheRUN-ENVIRONMENTprocedure correctly exercisestheagentsinanenvironment. For
somekindsofagents,suchasthosethatengageinnaturallanguage dialogue, itmaybesuf®cient
simplytoobservetheirbehavior.Togetmoredetailedinformation aboutagentperformance, we
insertsomeperformance measurement code.ThefunctionRUN-EVAL-ENVIRONMENT,shownin
Figure2.15,doesthis;itappliesaperformance measuretoeachagentandreturnsalistofthe
resultingscores.Thescoresvariablekeepstrackofeachagent'sscore.
Ingeneral,theperformance measurecandependontheentiresequence ofenvironment
statesgenerated duringtheoperation oftheprogram. Usually,however,theperformance measure
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
48 Chapter 2.Intelligent Agents
procedureRUN-ENVIRONMENT(state,UPDATE-FN,agents,termination )
inputs:state,theinitialstateoftheenvironment
UPDATE-FN,functiontomodifytheenvironment
agents,asetofagents
termination ,apredicate totestwhenwearedone
repeat
foreachagentinagentsdo
PERCEPT[agent]
GET-PERCEPT(agent,state)
end
foreachagentinagentsdo
ACTION[agent]
PROGRAM[agent](PERCEPT[agent])
end
state
UPDATE-FN(actions,agents,state)
untiltermination (state)
Figure2.14Thebasicenvironment simulator program. Itgiveseachagentitspercept,getsan
actionfromeachagent,andthenupdatestheenvironment.
function RUN-EVAL-ENVIRONMENT(state,UPDATE-FN,agents,
termination, PERFORMANCE -FN)returnsscores
localvariables :scores,avectorthesamesizeasagents,all0
repeat
foreachagentinagentsdo
PERCEPT[agent]
GET-PERCEPT(agent,state)
end
foreachagentinagentsdo
ACTION[agent]
PROGRAM[agent](PERCEPT[agent])
end
state
UPDATE-FN(actions,agents,state)
scores
PERFORMANCE -FN(scores,agents,state)
untiltermination (state)
returnscores /*change*/
Figure2.15Anenvironment simulator programthatkeepstrackoftheperformance measure
foreachagent.
worksbyasimpleaccumulation usingeithersummation, averaging,ortakingamaximum. For
example,iftheperformance measureforavacuum-cleaning agentisthetotalamountofdirt
cleanedinashift,scoreswilljustkeeptrackofhowmuchdirthasbeencleanedupsofar.
RUN-EVAL-ENVIRONMENTreturnstheperformance measureforaasingleenvironment,
de®nedbyasingleinitialstateandaparticular updatefunction. Usually,anagentisdesigned to
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.5.Summary 49
workinanenvironmentclass,awholesetofdifferentenvironments. Forexample,wedesignENVIRONMENT
CLASS
achessprogramtoplayagainstanyofawidecollection ofhumanandmachineopponents. If
wedesigned itforasingleopponent, wemightbeabletotakeadvantageofspeci®cweaknesses
inthatopponent, butthatwouldnotgiveusagoodprogramforgeneralplay.Strictlyspeaking,
inordertomeasuretheperformance ofanagent,weneedtohaveanenvironment generator
thatselectsparticular environments (withcertainlikelihoods) inwhichtoruntheagent.Weare
theninterested intheagent'saverageperformance overtheenvironment class.Thisisfairly
straightforward toimplement forasimulated environment, andExercises2.5to2.11takeyou
throughtheentiredevelopment ofanenvironment andtheassociated measurement process.
Apossibleconfusion arisesbetweenthestatevariableintheenvironment simulator and
thestatevariableintheagentitself(seeREFLEX-AGENT-WITH-STATE).Asaprogrammer imple-
mentingboththeenvironment simulator andtheagent,itistempting toallowtheagenttopeek
attheenvironment simulator' sstatevariable.Thistemptation mustberesistedatallcosts!The
agent'sversionofthestatemustbeconstructed fromitsperceptsalone,withoutaccesstothe
complete stateinformation.
2.5SUMMAR Y
Thischapterhasbeensomething ofawhirlwind tourofAI,whichwehaveconceivedofasthe
scienceofagentdesign.Themajorpointstorecallareasfollows:
Anagentissomething thatperceivesandactsinanenvironment. Wesplitanagentinto
anarchitecture andanagentprogram.
Anidealagentisonethatalwaystakestheactionthatisexpectedtomaximize itsperfor-
mancemeasure, giventheperceptsequence ithasseensofar.
Anagentisautonomous totheextentthatitsactionchoicesdependonitsownexperience,
ratherthanonknowledgeoftheenvironment thathasbeenbuilt-inbythedesigner.
Anagentprogrammapsfromapercepttoanaction,whileupdatinganinternalstate.
Thereexistsavarietyofbasicagentprogramdesigns,depending onthekindofinformation
madeexplicitandusedinthedecisionprocess.Thedesignsvaryinef®ciency,compactness,
and¯exibility.Theappropriate designoftheagentprogram dependsonthepercepts,
actions,goals,andenvironment.
Re¯exagentsrespondimmediately topercepts, goal-based agentsactsothattheywill
achievetheirgoal(s),andutility-based agentstrytomaximize theirownªhappiness. º
Theprocessofmakingdecisions byreasoning withknowledgeiscentraltoAIandto
successful agentdesign.Thismeansthatrepresenting knowledgeisimportant.
Someenvironments aremoredemanding thanothers.Environments thatareinaccessible,
nondeterministic, nonepisodic, dynamic, andcontinuous arethemostchallenging.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
50 Chapter 2.Intelligent Agents
BIBLIOGRAPHICAL ANDHISTORICALNOTES
Theanalysisofrationalagencyasamappingfromperceptsequences toactionsprobably stems
ultimately fromtheefforttoidentifyrationalbehaviorintherealmofeconomics andotherforms
ofreasoning underuncertainty (coveredinlaterchapters) andfromtheeffortsofpsychological
behavioristssuchasSkinner(1953)toreducethepsychology oforganismsstrictlytoinput/output
orstimulus/response mappings. Theadvancefrombehaviorismtofunctionalism inpsychology ,
whichwasatleastpartlydrivenbytheapplication ofthecomputer metaphor toagents(Putnam,
1960;Lewis,1966),introduced theinternalstateoftheagentintothepicture.Thephilosopher
DanielDennett(1969;1978b)helpedtosynthesize theseviewpointsintoacoherentªintentional
stanceºtowardagents.Ahigh-level,abstractperspectiveonagencyisalsotakenwithintheworld
ofAIin(McCarthy andHayes,1969).JonDoyle(1983)proposed thatrationalagentdesignis
thecoreofAI,andwouldremainasitsmissionwhileothertopicsinAIwouldspinofftoform
newdisciplines. Horvitzetal.(1988)speci®cally suggesttheuseofrationality conceivedasthe
maximization ofexpectedutilityasabasisforAI.
TheAIresearcher andNobel-prize-winning economist HerbSimondrewacleardistinction
betweenrationality underresourcelimitations (procedural rationality) andrationality asmaking
theobjectivelyrationalchoice(substanti verationality) (Simon,1958).Cherniak (1986)explores
theminimallevelofrationality neededtoqualifyanentityasanagent.RussellandWefald(1991)
dealexplicitlywiththepossibility ofusingavarietyofagentarchitectures. DungBeetleEcol-
ogy(HanskiandCambefort, 1991)providesawealthofinteresting information onthebehavior
ofdungbeetles.
EXERCISES
2.1Whatisthedifferencebetweenaperformance measureandautilityfunction?
2.2Foreachoftheenvironments inFigure2.3,determine whattypeofagentarchitecture is
mostappropriate (tablelookup,simplere¯ex,goal-based orutility-based).
2.3Chooseadomainthatyouarefamiliarwith,andwriteaPAGEdescription ofanagent
fortheenvironment. Characterize theenvironment asbeingaccessible, deterministic, episodic,
static,andcontinuous ornot.Whatagentarchitecture isbestforthisdomain?
2.4Whiledriving,whichisthebestpolicy?
a.Alwaysputyourdirectional blinkeronbeforeturning,
b.Neveruseyourblinker,
c.Lookinyourmirrorsanduseyourblinkeronlyifyouobserveacarthatcanobserveyou?
Whatkindofreasoning didyouneedtodotoarriveatthispolicy(logical,goal-based, orutility-
based)?Whatkindofagentdesignisnecessary tocarryoutthepolicy(re¯ex,goal-based, or
utility-based)?
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
Section2.5.Summary 51
Thefollowingexercisesallconcerntheimplementation ofanenvironment andsetofagentsin
thevacuum-cleaner world.
2.5Implement aperformance-measuring environment simulator forthevacuum-cleaner world.
Thisworldcanbedescribed asfollows:
Percepts:Eachvacuum-cleaner agentgetsathree-element perceptvectoroneachturn.
The®rstelement,atouchsensor,shouldbea1ifthemachinehasbumpedintosomething
anda0otherwise. Thesecondcomesfromaphotosensor underthemachine, whichemits
a1ifthereisdirtthereanda0otherwise. Thethirdcomesfromaninfraredsensor,which
emitsa1whentheagentisinitshomelocation,anda0otherwise.
Actions:Thereare®veactionsavailable:goforward,turnrightby90
,turnleftby90
,
suckupdirt,andturnoff.
Goals:Thegoalforeachagentistocleanupandgohome.Tobeprecise,theperformance
measurewillbe100pointsforeachpieceofdirtvacuumed up,minus1pointforeach
actiontaken,andminus1000pointsifitisnotinthehomelocationwhenitturnsitselfoff.
Environment:Theenvironment consistsofagridofsquares. Somesquarescontain
obstacles (wallsandfurniture) andothersquaresareopenspace.Someoftheopensquares
containdirt.Eachªgoforwardº actionmovesonesquareunlessthereisanobstacleinthat
square,inwhichcasetheagentstayswhereitis,butthetouchsensorgoeson.Aªsuckup
dirtºactionalwayscleansupthedirt.Aªturnoffºcommand endsthesimulation.
Wecanvarythecomplexityoftheenvironment alongthreedimensions:
Roomshape:Inthesimplestcase,theroomisann
nsquare,forsome®xedn.Wecan
makeitmoredif®cultbychanging toarectangular ,L-shaped, orirregularlyshapedroom,
oraseriesofroomsconnected bycorridors.
Furniture:Placingfurnitureintheroommakesitmorecomplexthananemptyroom.To
thevacuum-cleaning agent,apieceoffurniture cannotbedistinguished fromawallby
perception; bothappearasa1onthetouchsensor.
Dirtplacement :Inthesimplestcase,dirtisdistributeduniformly aroundtheroom.But
itismorerealisticforthedirttopredominate incertainlocations, suchasalongaheavily
travelledpathtothenextroom,orinfrontofthecouch.
2.6Implement atable-lookup agentforthespecialcaseofthevacuum-cleaner worldconsisting
ofa2
2gridofopensquares,inwhichatmosttwosquareswillcontaindirt.Theagentstarts
intheupperleftcorner,facingtotheright.Recallthatatable-lookup agentconsistsofatableof
actionsindexedbyaperceptsequence. Inthisenvironment, theagentcanalwayscomplete its
taskinnineorfeweractions(fourmoves,threeturns,andtwosuck-ups), sothetableonlyneeds
entriesforperceptsequences uptolengthnine.Ateachturn,thereareeightpossiblepercept
vectors,sothetablewillbeofsize9
i=18i=153,391,688.Fortunately ,wecancutthisdown
byrealizingthatthetouchsensorandhomesensorinputsarenotneeded;wecanarrangesothat
theagentneverbumpsintoawallandknowswhenithasreturnedhome.Thenthereareonly
tworelevantperceptvectors,?0?and?1?,andthesizeofthetableisatmost9
i=12i=1022.
Runtheenvironment simulator onthetable-lookup agentinallpossibleworlds(howmanyare
there?).Recorditsperformance scoreforeachworldanditsoverallaveragescore.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
52 Chapter 2.Intelligent Agents
2.7Implement anenvironment foran
mrectangular room,whereeachsquarehasa5%chance
ofcontaining dirt,andnandmarechosenatrandomfromtherange8to15,inclusive.
2.8Designandimplement apurere¯exagentfortheenvironment ofExercise2.7,ignoring
therequirement ofreturning home,andmeasureitsperformance. Explainwhyitisimpossible
tohaveare¯exagentthatreturnshomeandshutsitselfoff.Speculate onwhatthebestpossible
re¯exagentcoulddo.Whatpreventsare¯exagentfromdoingverywell?
2.9Designandimplement severalagentswithinternalstate.Measuretheirperformance. How
closedotheycometotheidealagentforthisenvironment?
2.10Calculate thesizeofthetableforatable-lookup agentinthedomainofExercise2.7.
Explainyourcalculation. Youneednot®llintheentriesforthetable.
2.11Experiment withchanging theshapeanddirtplacement oftheroom,andwithadding
furniture. Measure youragentsinthesenewenvironments. Discusshowtheirperformance
mightbeimprovedtohandlemorecomplexgeographies.
Arti®cial Intelligence: AModernApproachbyStuartRussellandPeterNorvig,c
1995Prentice-Hall, Inc.
